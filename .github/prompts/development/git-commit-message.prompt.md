# Git コミットメッセージ生成プロンプト

## 使用方法
Gitでステージされたファイルの内容を分析し、適切なコミットメッセージを生成する際に使用してください。

## 作業依頼内容
以下の流れで作業をして、コミットメッセージを生成してください
1. ステージされたファイルの内容を確認
 - `git status` でステージされたファイルを確認
 - `git diff --cached` で変更内容を確認
2. 変更内容を分析し、コミットメッセージを生成
3. 必要に応じて、コミットメッセージの品質をチェック
4. 生成されたコミットメッセージを確認・調整

## コミットメッセージのルール
コミットメッセージを生成するときには、以下のルールに従ってください。
- **形式**: Conventional Commits形式に従う（例: `feat: 機能の概要`、`fix: 修正内容`）
- **長さ**: 50文字以内の簡潔な要約
- **内容**: 変更内容を具体的に記述
- **変更内容の要約**: 最大3行以内でリスト形式で記述してください(無理に3行にしなくてもよいです)
- **言語**: 日本語で記述


## プロンプトテンプレート

### 1. ステージされたファイルからコミットメッセージ生成
```
現在gitにステージされているファイルの内容を見て、コミットメッセージを生成してください。

**分析観点**:
- 変更されたファイルの種類と目的
- 新規作成・修正・削除の分類
- 機能追加・バグ修正・リファクタリング・ドキュメント更新の判別
- 変更の影響範囲とビジネス価値

**コミットメッセージの要件**:
- Conventional Commits形式に従う（feat/fix/docs/refactor/test等）
- 変更内容を簡潔かつ具体的に記述
- 必要に応じて詳細な説明を含める
- 日本語で記述

**出力形式**:
1. 推奨コミットメッセージ
2. 変更内容の分析結果
3. 期待される効果・影響
```

### 2. 特定の変更タイプ向けコミットメッセージ生成

#### 機能追加の場合
```
現在ステージされているファイルを分析し、新機能追加のコミットメッセージを生成してください。

**確認事項**:
- 追加された機能の概要
- 影響を受けるモジュール・コンポーネント
- 新規作成されたファイルとその役割
- 既存機能への影響

**メッセージ形式**: `feat: [機能の概要]`
```

#### バグ修正の場合
```
現在ステージされているファイルを分析し、バグ修正のコミットメッセージを生成してください。

**確認事項**:
- 修正された問題の内容
- 修正方法の概要
- 影響範囲
- 関連するIssue番号（あれば）

**メッセージ形式**: `fix: [修正内容]`
```

#### リファクタリングの場合
```
現在ステージされているファイルを分析し、リファクタリングのコミットメッセージを生成してください。

**確認事項**:
- リファクタリングの目的
- 改善された品質面（可読性・保守性・パフォーマンス等）
- 機能的な変更がないことの確認
- 影響範囲

**メッセージ形式**: `refactor: [改善内容]`
```

#### ドキュメント更新の場合
```
現在ステージされているファイルを分析し、ドキュメント更新のコミットメッセージを生成してください。

**確認事項**:
- 更新されたドキュメントの種類
- 更新内容の概要
- 対象読者（開発者・ユーザー・運用者等）

**メッセージ形式**: `docs: [ドキュメント更新内容]`
```

### 3. 複合的な変更の場合
```
現在ステージされているファイルに複数種類の変更が含まれています。
適切にカテゴリ分けして、最も適切なコミットメッセージを生成してください。

**分析手順**:
1. 変更を種類別に分類
2. 最も重要な変更を特定
3. 副次的な変更を説明に含める
4. 必要に応じて分割コミットを提案

**出力内容**:
- 推奨コミットメッセージ
- 変更内容の詳細分析
- 分割コミットが推奨される場合はその提案
```

## コミットメッセージの品質チェック

### 品質確認プロンプト
```
生成されたコミットメッセージを以下の観点でレビューしてください：

**確認項目**:
- [ ] Conventional Commits形式に準拠している
- [ ] 50文字以内の簡潔な要約になっている
- [ ] 変更内容が具体的に記述されている
- [ ] ビジネス価値や影響が明確
- [ ] 日本語として自然で理解しやすい
- [ ] チーム内の命名規則に従っている

**改善提案があれば出力してください**
```

## 特殊ケース対応

### 緊急修正（hotfix）
```
緊急修正のコミットメッセージを生成してください。

**形式**: `hotfix: [緊急修正内容]`
**追加情報**: 
- 修正の緊急性
- 影響範囲
- 修正前の問題状況
```

### 依存関係更新
```
依存関係更新のコミットメッセージを生成してください。

**形式**: `chore: [更新内容]`
**含める情報**:
- 更新されたパッケージ・ライブラリ
- バージョン情報
- 更新理由（セキュリティ・機能追加等）
```

### テストコード追加
```
テストコード追加のコミットメッセージを生成してください。

**形式**: `test: [テスト内容]`
**含める情報**:
- テスト対象の機能
- テストの種類（単体・統合・E2E等）
- カバレッジ向上の程度
```

## 使用例

### 基本的な使用手順
1. ファイルをステージング: `git add .`
2. GitHub Copilot Chatでプロンプト実行
3. 生成されたコミットメッセージを確認・調整
4. コミット実行: `git commit -m "[生成されたメッセージ]"`

### 高品質コミットのためのチェックリスト
- [ ] ステージされたファイル内容を十分に分析
- [ ] 変更の背景・目的が明確
- [ ] 影響範囲が適切に記述
- [ ] チーム内の慣例に従っている
- [ ] 将来のメンテナンス性を考慮

## 注意事項
- 機密情報が含まれていないか確認
- 大きすぎる変更は分割を検討
- 実験的な変更には適切なプレフィックスを使用
- 後から追跡しやすい形式を心がける
