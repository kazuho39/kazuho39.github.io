# ドメインについて
## ドメインとは？
一言で言うと、インターネット上の住所のようなものです。  

例： `www.example.com`  
このような文字列が「ドメイン名（Domain Name）」です。

### なぜ必要なの？
- インターネット上では、コンピュータ同士は **IPアドレス（例：203.0.113.10）** で通信します。
- しかしIPアドレスは人間にとって覚えづらいので、わかりやすい名前（＝ドメイン）を付けて間接的にアクセスできるようにする仕組みがあります。
- この変換をしてくれるのが DNS（Domain Name System） です。

### ドメイン名の構造
例： `www.example.com`  

| 部分        | 説明                                             |
| --------- | ---------------------------------------------- |
| `.com`    | **トップレベルドメイン（TLD）**：ジャンルや国を表す（`.jp`, `.org`など） |
| `example` | **セカンドレベルドメイン**：組織や企業の名前など                     |
| `www`     | **サブドメイン**：任意に追加できる（`api.example.com` など）      |

### ドメインとDNSの関係
ドメイン名を入力すると、DNSがそれをIPアドレスに変換して目的のサーバーへアクセスします。

```markdown
あなたのPC → DNSに「www.example.comのIPは？」と問い合わせ
→ DNSから「203.0.113.10です」と返ってくる
→ ブラウザがそのIPにアクセス
```

### ドメイン取得と管理
| ステップ         | 説明                                          |
| ------------ | ------------------------------------------- |
| 1. ドメインの取得   | お名前.com, Google Domains, AWS Route 53 などで購入 |
| 2. ネームサーバー設定 | DNSサーバーを指定（AWSなどで管理する場合）                    |
| 3. レコード設定    | `Aレコード`（IPの指定）や `CNAME`（別名）などを設定            |

### ドメインとセキュリティ
- SSL証明書は、特定のドメインに紐づいて発行されます（例：example.com 用の証明書）
- サブドメインごとに証明書を分けるか、*.example.com のようなワイルドカード証明書を使うかなどが選べます

### まとめ
| 用語     | 意味                             |
| ------ | ------------------------------ |
| ドメイン名  | インターネット上の名前（住所）                |
| DNS    | 名前（ドメイン）をIPアドレスに変換する仕組み        |
| TLD    | `.com` や `.jp` など、ドメインの末尾      |
| サブドメイン | `api.example.com` のように細かく分けられる |
| Aレコード  | ドメイン → IPアドレスの変換設定             |

## DNSレコードとは？
DNSレコードとは、ドメイン名とIPアドレスなどの対応情報を記録する設定です。  
これにより、ブラウザやアプリは「このドメインにアクセスするにはどこへ行けばいいか？」を知ることができます。

### よく使われるDNSレコードの種類
| 種類            | 用途                        | 例                                      |
| ------------- | ------------------------- | -------------------------------------- |
| **Aレコード**     | ドメイン → IPv4アドレス を紐づける     | `example.com → 203.0.113.1`            |
| **AAAAレコード**  | ドメイン → IPv6アドレス を紐づける     | `example.com → 2001:db8::1`            |
| **CNAMEレコード** | ドメインの別名（エイリアス）を指定         | `www.example.com → example.com`        |
| **MXレコード**    | メールの送信先サーバーを指定            | `example.com → mail.example.com`       |
| **TXTレコード**   | 任意のテキスト情報（認証など）を設定        | SPF, DKIM, Google site verification など |
| **NSレコード**    | このドメインのDNSを管理するネームサーバーを指定 | `example.com → ns1.exampledns.com`     |
| **SRVレコード**   | 特定サービスの提供先を指定             | Microsoft 365 / SIP などで使用              |
| **SOAレコード**   | ゾーン情報の基本設定（DNS管理の詳細）      | TTL、更新頻度などを含む                          |
| **PTRレコード**   | IP → ドメイン名（逆引き）を指定        | 通常はメールサーバーで重要                          |

### 主要なレコードのイメージ
#### Aレコード
```markdown
example.com → 203.0.113.10
```
最も基本的なレコードで、Webサイトの表示先を指定。

#### CNAMEレコード
```markdown
www.example.com → example.com
```
別名（エイリアス）を作る。対象が別のドメインである必要があります。

#### MXレコード
```markdown
example.com → mail.example.com（優先度10）
```
メールをどこに配信すべきかを定義します。

#### TXTレコード
```markdown
"v=spf1 include:_spf.example.com ~all"
```
メール送信元認証（SPF）やサイト所有証明などで使用されます。

### 注意点
| ポイント                          | 解説                                         |
| ----------------------------- | ------------------------------------------ |
| AレコードとCNAMEは同時に設定できない（同じホストに） | 例：`example.com` にAとCNAMEを両方設定はNG           |
| CNAMEは**ルートドメインには使えないことが多い**  | `www.example.com`には使えても、`example.com`には非推奨 |
| TXTレコードはGoogleやAWSの認証設定でよく使う  | サイト所有者確認やメール送信者認証に必須                       |

### まとめ（使いどころ別）
| 目的                | 使用レコード            |
| ----------------- | ----------------- |
| Webサイトを表示したい      | Aレコード / CNAME     |
| メールを受信したい         | MXレコード / SPF（TXT） |
| サブドメインを別サーバーに分けたい | A / CNAME         |
| 所有者確認・サービス連携      | TXTレコード           |
| DNSの委任先を指定したい     | NSレコード            |




